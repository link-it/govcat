<!-- Mobile version -->
<ui-item-row-mobile *ngIf="!desktop"
  [data]="_data"
  [config]="_config"
  [configRow]="configRow"
  [actionDisabled]="actionDisabled"
  [notify]="notify"
  [hoverFeedback]="hoverFeedback"
  [hasLink]="hasLink"
  [hasAction]="hasAction"
  [iconAction]="iconAction"
  [actionText]="actionText"
  [actionTooltip]="actionTooltip"
  [rowClick]="rowClick"
  [hostBackground]="hostBackground"
  [primaryClass]="primaryClass"
  [isAnonymous]="isAnonymous"
  (itemClick)="itemClick.emit($event)"
  (actionClick)="actionClick.emit($event)">
</ui-item-row-mobile>

<!-- Desktop version -->
<div #ir class="d-flex flex-column" *ngIf="desktop" [class.cursor-pointer]="rowClick && hasLink" (click)="__itemClickRow($event, ir)">
  <div class="active-item d-flex flex-grow-1 align-items-center">
    <div class="d-flex align-items-center w-100" [class.flex-wrap]="_itemRowConfig?.wrap">
      <div class="avatar-image" *ngIf="_itemRowConfig?.avatar">
        <ui-item-type
          [data]="_data"
          [elem]="_itemRowConfig?.avatar"
          [config]="_config">
        </ui-item-type>
      </div>
      <div class="main-info main-content">
        <div class="main-data">
          <div class="primary-text text-break fw-bold-600 {{ primaryClass }}">
            <a href="javascript:void(0);" class="item-row-link" [class.text-hover]="hasLink && !rowClick" [class.cursor-pointer]="hasLink && !rowClick" (click)="__itemClick($event, ir)">
              <ng-container *ngFor="let elem of _itemRowConfig?.primaryText">
                <ui-item-type *ngIf="_showEmpty(elem) && !_hideAnonymous(elem)"
                  [data]="_data"
                  [elem]="elem"
                  [config]="_config">
                </ui-item-type>
              </ng-container>
            </a>
          </div>
        </div>
        <div class="meta-data">
          <div class="d-inline-block text" *ngIf="_itemRowConfig?.metadata?.text.length > 0">
            <ng-container *ngFor="let elem of _itemRowConfig?.metadata.text">
              <ui-item-type *ngIf="_showEmpty(elem) && !_hideAnonymous(elem)"
                [data]="_data"
                [elem]="elem"
                [config]="_config">
              </ui-item-type>
            </ng-container>
          </div>
          <div class="d-inline-block labels ms-2" *ngIf="_itemRowConfig?.metadata?.label.length > 0">
            <ng-container *ngFor="let elem of _itemRowConfig?.metadata.label">
              <ui-item-type *ngIf="_showEmpty(elem) && !_hideAnonymous(elem)"
                [data]="_data"
                [elem]="elem"
                [config]="_config">
              </ui-item-type>
            </ng-container>
          </div>
        </div>
      </div>
      <div class="meta-info main-content" [class.pb-0]="_itemRowConfig?.footer" *ngIf="_itemRowConfig?.secondaryText?.length > 0 || _itemRowConfig?.secondaryMetadata?.length > 0">
        <div class="main-data d-block" *ngIf="_itemRowConfig?.secondaryText?.length > 0">
          <ng-container *ngFor="let elem of _itemRowConfig?.secondaryText">
            <ui-item-type *ngIf="_showEmpty(elem) && !_hideAnonymous(elem)"
              [data]="_data"
              [elem]="elem"
              [config]="_config">
            </ui-item-type>
          </ng-container>
        </div>
        <div class="meta-data" *ngIf="_itemRowConfig?.secondaryMetadata?.length > 0">
          <ng-container *ngFor="let elem of _itemRowConfig?.secondaryMetadata">
            <ui-item-type *ngIf="_showEmpty(elem) && !_hideAnonymous(elem)"
              [data]="_data"
              [elem]="elem"
              [config]="_config">
            </ui-item-type>
          </ng-container>
        </div>
      </div>
      <div class="box-area-status align-self-stretch d-flex justify-content-between" *ngIf="_itemRowConfig?.boxStatus1 || _itemRowConfig?.boxStatus2">
        <ng-template #tooltipBox1Template><div [innerHtml]="_tooltipBox1"></div></ng-template>
        <div class="box-status align-self-stretch d-flex flex-column" [style.background-color]="_getBackground(_itemRowConfig?.boxStatus1)" [style.color]="_getColor(_itemRowConfig?.boxStatus1)" *ngIf="_itemRowConfig?.boxStatus1" [tooltip]="tooltipBox1Template" [placement]="_tooltipPlacementBox1" [delay]="_tooltipDelay" container="body">
          <div class="box-status-1">
            <ng-container *ngFor="let elem of _itemRowConfig?.boxStatus1?.primaryText">
              <ui-item-type *ngIf="_showEmpty(elem) && !_hideAnonymous(elem)"
                [data]="_data"
                [elem]="elem"
                [config]="_config">
              </ui-item-type>
            </ng-container>
          </div>
          <div class="box-status-2 box-status-meta mt-auto">
            <ng-container *ngFor="let elem of _itemRowConfig?.boxStatus1?.metadata">
              <ui-item-type *ngIf="_showEmpty(elem) && !_hideAnonymous(elem)"
                [data]="_data"
                [elem]="elem"
                [config]="_config">
              </ui-item-type>
            </ng-container>
          </div>
        </div>
        <ng-template #tooltipBox2Template><div [innerHtml]="_tooltipBox2"></div></ng-template>
        <div class="box-status align-self-stretch d-flex flex-column" [style.background-color]="_getBackground(_itemRowConfig?.boxStatus2)" [style.color]="_getColor(_itemRowConfig?.boxStatus2)" *ngIf="_itemRowConfig?.boxStatus2" [tooltip]="tooltipBox2Template" [placement]="_tooltipPlacementBox2" [delay]="_tooltipDelay" container="body">
          <div class="box-status-1">
            <ng-container *ngFor="let elem of _itemRowConfig?.boxStatus2?.primaryText">
              <ui-item-type *ngIf="_showEmpty(elem) && !_hideAnonymous(elem)"
                [data]="_data"
                [elem]="elem"
                [config]="_config">
              </ui-item-type>
            </ng-container>
          </div>
          <div class="box-status-2 box-status-meta mt-auto">
            <ng-container *ngFor="let elem of _itemRowConfig?.boxStatus2?.metadata">
              <ui-item-type *ngIf="_showEmpty(elem) && !_hideAnonymous(elem)"
                [data]="_data"
                [elem]="elem"
                [config]="_config">
              </ui-item-type>
            </ng-container>
          </div>
        </div>
      </div>
    </div>
    <div class="d-flex align-items-center ms-4" *ngIf="hasAction">
      <div class="btn btn-default btn-md gl-button btn-icon button-collapse" [tooltip]="actionTooltip">
        <i class="bi bi-{{ iconAction }}" (click)="__actionlick($event)"></i>
        <span *ngIf="!iconAction">{{ actionText }}</span>
      </div>
    </div>
  </div>
  <div class="footer-info" *ngIf="_itemRowConfig?.footer">
    <ng-container *ngFor="let elem of _itemRowConfig?.footer">
      <div class="d-inline-block text" *ngIf="_itemRowConfig?.footer.length > 0 && _showEmpty(elem)">
        <ui-item-type
          [data]="_data"
          [elem]="elem"
          [config]="_config">
        </ui-item-type>
      </div>
    </ng-container>
  </div>
</div>
