<!--
-- GovCat - GovWay API Catalogue
-- https://github.com/link-it/govcat
--
-- Copyright (c) 2021-2026 Link.it srl (https://link.it).
--
-- This program is free software: you can redistribute it and/or modify
-- it under the terms of the GNU General Public License version 3, as published by
-- the Free Software Foundation.
--
-- This program is distributed in the hope that it will be useful,
-- but WITHOUT ANY WARRANTY; without even the implied warranty of
-- MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-- GNU General Public License for more details.
--
-- You should have received a copy of the GNU General Public License
-- along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<div id="route-section" class="">
  <div class="top-area px-0">
    <ui-breadcrumb [breadcrumbs]="breadcrumbs" [useGroups]="true" (onClick)="onBreadcrumb($event)"></ui-breadcrumb>
    <div class="d-flex flex-grow-1">&nbsp;</div>
    <div class="nav-controls">
      <app-monitor-dropdown *ngIf="service"
        [showComunications]="false"
        [showMonitoring]="false"
        [returnWeb]="true"
        [otherActions]="[]"
        (action)="onActionMonitor($event)">
      </app-monitor-dropdown>
    </div>
  </div>
  <div class="top-area">
    <div class="tabs gp-tabs d-flex flex-grow-1 p-0 m-0 mobile-separator issuable-state-filters">
      <div class="">
        <ul class="nav gp-border-b-0 gp-tabs-nav">
          <li class="nav-item">
            <a tabindex="0" target="_self" class="nav-link gp-tab-nav-item cursor-pointer" [class.gp-tab-nav-item-active]="_isCollaudo()" (click)="_showCollaudo()" [class.disabled]="!_hasTabCollaudo" [attr.aria-label]="'APP.FILTER.Testing' | translate">
              <span title="Testing">{{ 'APP.FILTER.Testing' | translate }}</span>
            </a>
          </li>
          <li class="nav-item">
            <a tabindex="-1" target="_self" class="nav-link gp-tab-nav-item cursor-pointer" [class.gp-tab-nav-item-active]="_isProduzione()" (click)="_showProduzione()" [class.disabled]="!_hasTabProduzione" [attr.aria-label]="'APP.FILTER.Production' | translate">
              <span title="Production">{{ 'APP.FILTER.Production' | translate }}</span>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="nav-controls align-self-center d-flex">
    </div>
  </div>
  <section id="container-scroller" class="container-fluid container-scroller container-scroller-no-search px-0">

    <ui-box-spinner [color]="'primary'" [diameter]="36" [strokeWidth]="3" *ngIf="_spin"></ui-box-spinner>

    <ui-box-message *ngIf="!environmentId && !_spin"
      [size]="64"
      [icon]="'report_problem'"
      [image]="'./assets/images/illustrations/'+model+'.svg'"
      [message]="_message | translate"
      [subMessage]="_messageHelp | translate">
    </ui-box-message>

    <pdnd-service-view *ngIf="eserviceId && environmentId"
      [environmentId]="environmentId" 
      [eServiceId]="eserviceId"
      (loading)="_setLoading($event)">
    </pdnd-service-view>

  </section>
</div>
